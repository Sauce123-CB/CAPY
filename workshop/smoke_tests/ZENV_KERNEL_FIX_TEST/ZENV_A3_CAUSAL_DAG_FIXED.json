{
  "schema_version": "G3_2.2.3e_FIXED",
  "fix_note": "Converted pseudo-code equations to kernel-compatible format. Driver nodes have empty equations. Derived nodes use GET() syntax.",
  "DAG": {
    "Revenue_SaaS_Growth": {
      "type": "Exogenous_Driver",
      "parents": [],
      "equation": ""
    },
    "Revenue_SaaS": {
      "type": "Endogenous_Driver",
      "parents": ["Revenue_SaaS_Growth"],
      "equation": "PREV('Revenue_SaaS') * (1 + GET('Revenue_SaaS_Growth'))"
    },
    "Revenue_CPaaS": {
      "type": "Exogenous_Driver",
      "parents": [],
      "equation": ""
    },
    "Revenue": {
      "type": "Financial_Line_Item",
      "parents": ["Revenue_SaaS", "Revenue_CPaaS"],
      "equation": "GET('Revenue_SaaS') + GET('Revenue_CPaaS')"
    },
    "Gross_Margin_SaaS": {
      "type": "Exogenous_Driver",
      "parents": [],
      "equation": ""
    },
    "Gross_Margin_CPaaS": {
      "type": "Exogenous_Driver",
      "parents": [],
      "equation": ""
    },
    "Gross_Profit": {
      "type": "Financial_Line_Item",
      "parents": ["Revenue_SaaS", "Gross_Margin_SaaS", "Revenue_CPaaS", "Gross_Margin_CPaaS"],
      "equation": "(GET('Revenue_SaaS') * GET('Gross_Margin_SaaS')) + (GET('Revenue_CPaaS') * GET('Gross_Margin_CPaaS'))"
    },
    "OpEx_Ratio": {
      "type": "Exogenous_Driver",
      "parents": [],
      "equation": ""
    },
    "Operating_Expenses": {
      "type": "Financial_Line_Item",
      "parents": ["Revenue", "OpEx_Ratio"],
      "equation": "GET('Revenue') * GET('OpEx_Ratio')"
    },
    "EBIT": {
      "type": "Financial_Line_Item",
      "parents": ["Gross_Profit", "Operating_Expenses"],
      "equation": "GET('Gross_Profit') - GET('Operating_Expenses')"
    },
    "Tax_Rate": {
      "type": "Exogenous_Driver",
      "parents": [],
      "equation": ""
    },
    "NOPAT": {
      "type": "Financial_Line_Item",
      "parents": ["EBIT", "Tax_Rate"],
      "equation": "GET('EBIT') * (1 - GET('Tax_Rate'))"
    },
    "DA_Ratio": {
      "type": "Exogenous_Driver",
      "parents": [],
      "equation": ""
    },
    "DA": {
      "type": "Financial_Line_Item",
      "parents": ["Revenue", "DA_Ratio"],
      "equation": "GET('Revenue') * GET('DA_Ratio')"
    },
    "CapEx_Ratio": {
      "type": "Exogenous_Driver",
      "parents": [],
      "equation": ""
    },
    "CapEx": {
      "type": "Financial_Line_Item",
      "parents": ["Revenue", "CapEx_Ratio"],
      "equation": "GET('Revenue') * GET('CapEx_Ratio')"
    },
    "NWC_Ratio": {
      "type": "Exogenous_Driver",
      "parents": [],
      "equation": ""
    },
    "NWC": {
      "type": "Financial_Line_Item",
      "parents": ["Revenue", "NWC_Ratio"],
      "equation": "GET('Revenue') * GET('NWC_Ratio')"
    },
    "Delta_NWC": {
      "type": "Financial_Line_Item",
      "parents": ["NWC"],
      "equation": "GET('NWC') - PREV('NWC')"
    },
    "FCF_Unlevered": {
      "type": "Financial_Line_Item",
      "parents": ["NOPAT", "DA", "CapEx", "Delta_NWC"],
      "equation": "GET('NOPAT') + GET('DA') - GET('CapEx') - GET('Delta_NWC')"
    },
    "Invested_Capital": {
      "type": "Financial_Line_Item",
      "parents": ["NWC", "CapEx"],
      "equation": "PREV('Invested_Capital') + GET('CapEx') - GET('DA') + GET('Delta_NWC')"
    },
    "ROIC": {
      "type": "Financial_Line_Item",
      "parents": ["NOPAT", "Invested_Capital"],
      "equation": "GET('NOPAT') / max(GET('Invested_Capital'), 1)"
    }
  },
  "coverage_manifest": {
    "Revenue_CPaaS": "CPaaS revenue, divesting Y2",
    "Revenue_SaaS": "SaaS revenue, primary growth",
    "Revenue": "Total revenue",
    "Gross_Profit": "Consolidated gross profit",
    "EBIT": "Earnings before interest and taxes",
    "NOPAT": "Net operating profit after tax",
    "DA": "Depreciation and amortization",
    "CapEx": "Capital expenditures",
    "NWC": "Net working capital",
    "Invested_Capital": "Total invested capital",
    "FCF_Unlevered": "Unlevered free cash flow",
    "ROIC": "Return on invested capital"
  }
}
